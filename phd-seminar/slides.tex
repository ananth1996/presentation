\documentclass[pdf]{beamer}
\usetheme{Copenhagen}
\usepackage{pgfgantt}
% Need to use LuaLatex to compile
\usepackage{emoji}
\usepackage{booktabs}
\usepackage{tikz}
\usepackage{fontawesome}
\usepackage{amsmath}
\usepackage{natbib}
\usepackage[most]{tcolorbox}
\usetikzlibrary{angles,calc,intersections,quotes,arrows.meta,positioning}
\setemojifont{Apple Color Emoji}
\setbeamercovered{transparent}
\beamertemplatenavigationsymbolsempty
\setbeamertemplate{footline}[text line]{%
\parbox{\linewidth}{\vspace*{-8pt}\hfill\hfill\insertframenumber\,/\,\inserttotalframenumber}}

\title{``$2^{\text{nd}}$'' Year PhD Seminar Presentation}

\author[Ananth Mahadevan]{Ananth Mahadevan}
\date{\today}
\input{unlearning_macros.tex}
\input{cara-macros.tex}

\begin{document}
\begin{frame}
    \titlepage
\end{frame}

\begin{frame}
    \frametitle{Quick Recap}
    \begin{itemize}
        \item \textbf{Masters:} Aalto University
        \item \textbf{Started:} Aug 2020 (contract) and Jan 2021 (study right) 
        \item \textbf{Supervisor:} Michael Mathioudakis
        \item \textbf{Research Group:} Algorithmic Data Science (ADS)
    \end{itemize}

    

\end{frame}

\begin{frame}[fragile]
    \frametitle{PhD Progress}
    \begin{ganttchart}[
        % hgrid,
        % vgrid,
        bar/.append style={fill=gray!50},
        time slot format=isodate-yearmonth,
        time slot unit=month,
        x unit=1.5mm,
        y unit chart=7mm,
        % y unit=1mm,
        progress label text={\pgfmathprintnumber[precision=0, verbatim]{#1}\%},
        % progress=today,
        today=2024-03,
        bar height=.5,
        group peaks width=1,
        group peaks height=0.4,
        rejected/.style={milestone/.append style={fill=red}},
        published/.style={milestone/.append style={fill=green}},
        review/.style={milestone/.append style={fill=yellow}},
        futurepublished/.style={milestone/.append style={fill=gray!50}},
        % bar top shift=.5
      ]{2020-01}{2024-12}
    \gantttitlecalendar{year} \\
      \ganttgroup[progress=today]{PhD}{2020-08}{2024-12}\\
      \ganttbar{Paper I}{2021-01}{2021-06} % Unlearning 
      \ganttmilestone[rejected]{}{2021-07} % VLDB-2022
      \ganttmilestone[rejected]{}{2022-02} % ECML_PKDD
      \ganttmilestone[published]{}{2022-04}\\ % MDPI-MAKE
      \ganttbar{Paper II}{2022-01}{2022-02} % JANE
      \ganttmilestone[rejected]{}{2022-03} % ANS extension 2022
      \ganttmilestone[published]{}{2022-06}\\
      \ganttbar{Paper III}{2020-08}{2020-09} % Sketching
      \ganttbar{}{2021-06}{2021-09} % Sketching
      \ganttbar{}{2022-03}{2022-05} % Sketching
      \ganttmilestone[published]{}{2022-09}\\ % CIKM 2022
      \ganttbar{Paper IV}{2022-05}{2023-02} % Reception Reader
      \ganttmilestone[published]{}{2023-04}\\ % JOHD 2023
      \ganttbar{Paper V}{2022-11}{2023-04} % Mandeville
      \ganttmilestone[published]{}{2023-12}\\ % JOHD 2023
      \ganttbar{Paper VI}{2021-11}{2022-12} % UpdateML
      \ganttmilestone[rejected]{}{2023-03} % ICML 2023
      \ganttmilestone[rejected]{}{2023-08} % EuroSys 2024
      \ganttmilestone[review]{}{2024-02}\\ % KBS 2024
      \ganttbar{Paper VII}{2023-06}{2024-02} % TextReuse Pipeline
      \ganttmilestone[futurepublished]{}{2024-04}\\ % KBS 2024

    \end{ganttchart}    

\end{frame}


\begin{frame}
    \frametitle{Papers}
    \begin{table}
        \centering
        \begin{tabular}{cccc}
            \toprule
            Number & One Word Title & Venue & Include in Thesis? \\
            \midrule
            I & Unlearning & MAKE 2022  & \emoji{check-mark-button}  \\
            II & JANE & Entropy 2022   &\emoji{check-mark-button} \\
            III & Sketching& CIKM 2022 & \emoji{man-shrugging-medium-skin-tone}\\
            IV & ReceptionReader& JOHD 2023 &  \emoji{man-shrugging-medium-skin-tone} \\
            V & Mandeville & DES 2023 & \emoji{man-shrugging-medium-skin-tone}\\
            VI & Retraining & KBS 2024 &  \emoji{check-mark-button} \\
            VII & TextReuse & VLDB 2024 & \emoji{check-mark-button} \\

            
        \end{tabular}
    \end{table}
\end{frame}


\begin{frame}
    \frametitle{Research Projects}
    % \begin{block}{\centering Broad Research Interests}
    %     \begin{center}
    %         Scalable Pipelines for Machine Learning and Data Science
    %     \end{center}
    % \end{block}

    Multiple Projects:
    \begin{enumerate}
        \item Maintaining ML models
        \begin{itemize}
            \item Paper I: Unlearning 
            \item Paper VI: Retraining
        \end{itemize}
        \item Analyzing Historical Documents 
        \begin{itemize}
            \item Paper IV: ReceptionReader
            \item Paper V: Mandeville
            \item Paper VII: TextReuse
        \end{itemize}
        \item Scaling and Evaluating Algorithms
        \begin{itemize}
            \item Paper II: JANE
            \item Paper III: Sketching 
            \item Paper VIII    ?: Diverse Sampling 
        \end{itemize}
    \end{enumerate}

\end{frame}


\begin{frame}
    \frametitle{Maintaining ML models}

    \begin{block}{\centering Research Question}
        \centering
        How to update a trained ML model when the data changes?
    \end{block}

    \begin{enumerate}
        \item Machine Unlearning 
        \begin{itemize}
            \item Training data is deleted/removed
            \item Update model parameters to forget information
            \item \citet{mahadevan2022certifiable}
        \end{itemize}
        \item Cost-Aware Retraining
        \begin{itemize}
            \item Streams drift over time
            \item Data and Queries are present
            \item Retraining consumes resources
            \item When is it worth retraining?
            \item \citet{mahadevan2023costeffective}
        \end{itemize}
    \end{enumerate}
\end{frame}


\begin{frame}
    \frametitle{Machine Unlearning }
    \scalebox{0.5}{
    \begin{tikzpicture}
        \input{figs/pipeline.tex}
      \end{tikzpicture}
    }

    \begin{block}{Unlearning}
        Task of updating a ML model after partial deletion of training data
    \end{block}
    Qualities of an approximate unlearning method:
  \begin{itemize}
    \item \textbf{Certifiability}: How similar are \wunlearned and \worig?
    \item \textbf{Effectiveness}: How well does \wunlearned perform?
    \item \textbf{Efficiency}: How much time to produce \wunlearned?
  \end{itemize}

\end{frame}

\begin{frame}[fragile]
    \frametitle{Cost-Aware Retraining Algorithms}
    \begin{tcbraster}[raster columns=2, raster left skip=-0.9cm,raster right skip=-0.9cm,raster before skip=0mm]
        \begin{tcolorbox}[nobeforeafter, title=Cost Matrix,,left=0mm,top=0mm,boxsep=0.5mm]
            \begin{center}
            \begin{equation*}
                \small
                C[t^\prime,t]
            \end{equation*}
            \begin{align*}
                \small
                = \begin{cases}
                    \text{\footnotesize Staleness Cost} \quad& \text{\small if } t^\prime< t\\
                    \text{\footnotesize Retraining Cost} \quad& \text{\small if } t^\prime=t\\
                    \infty \quad&  \text{\small otherwise} 
                \end{cases}
            \end{align*}
        \end{center}
        \begin{center}
            \includegraphics[width=.78\textwidth]{figs/cost_matrix.pdf}
                    \end{center}
        \end{tcolorbox}
        \begin{tcolorbox}[nobeforeafter, title=Strategy,boxsep=0.5mm,left=0mm]
            \setlength{\leftmargini}{0.4cm}
            \begin{itemize}
            \item Strategy is a set of decisions
            \item Cost of decisions is strategy cost
            \item Aim is to minimize strategy cost
        \end{itemize}
        $$S = \braces{\keep,\keep,\retrain,\retrain}$$
        \begin{center}
            \includegraphics[width=.78\textwidth]{figs/strategy.pdf}
            \end{center}
            \end{tcolorbox}
    \end{tcbraster}
\end{frame}


\begin{frame}
    \frametitle{Retraining Cost \retraincost}
    \begin{itemize}
        \item Trade-off parameter between resources \& performance
        \item Low \retraincost
        \begin{itemize}
          \item Performance is important
          \item Frequent \retrain decisions to minimize staleness cost 
        \end{itemize}
        \item High \retraincost
        \begin{itemize}
          \item Resources are important
          \item \retrain decisions when large enough drops in performance
        \end{itemize}
      \end{itemize}
        \begin{minipage}{0.5\textwidth}
          \begin{center}
              {\footnotesize Low \retraincost}\\[1mm]
              \includegraphics[width=\textwidth]{figs/low_retrain_cost.pdf}
          \end{center}
        \end{minipage}%
        \begin{minipage}{0.5\textwidth}
          \begin{center}
              {\footnotesize High \retraincost}\\[1mm]
              \includegraphics[width=\textwidth]{figs/high_retrain_cost.pdf}
          \end{center}
        \end{minipage}%
    

\end{frame}


\begin{frame}
    \frametitle{Staleness Cost}
    \begin{itemize}
        \item {\textcolor{green!50!black}{Query-aware}} performance cost of old model \Mtprime at batch \ttime
        \item Scenario 1: Low staleness ~~~ Scenario 2: High staleness
      \end{itemize}
      \begin{minipage}{0.5\textwidth}
          \begin{center}
            %   {\footnotesize Scenario 1}\\[1mm]
              \includegraphics[width=0.7\textwidth]{figs/far_queries_illustration.pdf}\\[1mm]
              \includegraphics[width=0.7\textwidth]{figs/far_queries.pdf}
            \end{center}
          \end{minipage}%
          \begin{minipage}{0.5\textwidth}
            \begin{center}
            %   {\footnotesize Scenario 2}\\[1mm]
              \includegraphics[width=0.7\textwidth]{figs/near_queries_illustration.pdf}\\[1mm]
              \includegraphics[width=0.7\textwidth]{figs/near_queries.pdf}
          \end{center}
        \end{minipage}%
    

\end{frame}
\begin{frame}
    \frametitle{Analyzing Historical Documents}
    Data:
    \begin{itemize}
        \item 250k books and 1M newspapers from the 17th and 18th century
        \item Tons of heterogeneous metadata
        \begin{itemize}
            \item Collections of books and articles
            \item Publisher details
            \item Author information
        \end{itemize}
        \item Multi-modal data  
        \begin{itemize}
            \item Scanned page images
            \item OCR text
            \item XML style structured page layouts
        \end{itemize}
    \end{itemize}
    Task:
    \begin{itemize}
        \item General exploration
        \item Reception studies with Text Reuses   
        \item Top quotes of authors
    \end{itemize}
\end{frame}

\begin{frame}
    \frametitle{Reception Studies with Text Reuse}
    \includegraphics[width=\textwidth]{figs/Reception-Reader-Example.png}


\end{frame}

\begin{frame}[fragile]
    \frametitle{Identifying Text Reuse}


        However, OCR texts are very noisy
        \begin{block}{\centering Document 1 string}
            \footnotesize
            \begin{verbatim}
            to deny the Ma-
            tifl:ate a Worflip, or take away a
            hational Church, is as mere En-
            Ihufiafin as the Notion which sets
            uip Persecution    
            \end{verbatim}
        \end{block}    
        \begin{block}{\centering Document 2 string}
            \footnotesize
            \begin{verbatim}
            , to deny the Ala-
            inrate a ITorftip, or take awvay a National
            'uircb, is as mere Entnztfiafm as the Notion
            .bic fJets tup Persecution. W
            \end{verbatim}
        \end{block}    
        How to identify text reuses?
        \begin{itemize}
            \item Use BLAST to do fuzzy alignment
        \end{itemize}
\end{frame}

\begin{frame}[fragile]
    \frametitle{Pre-Processing Pipeline}
    \scalebox{0.5}{
    \input{figs/textreuse-pipeline.tex}
    }
    \begin{itemize}
        \item Clean up BLAST hits for downstream tasks
        \item Implemented in Apache Spark 
        \item Uses Dagster for asset management
        \item Scales up to {\bf 6.31 billion} pairs of reuses
    \end{itemize}
\end{frame}

\begin{frame}
    \frametitle{Related Publications}

    \begin{enumerate}
        \item Paper IV: \citet{Rosson-2023}
        \begin{itemize}
            \item \emph{Reception reader: Exploring text reuse in early modern british publications}
            \item Front-end user interface for browsing reuses
        \end{itemize}
        \item Paper V: \citet{des6}
        \begin{itemize}
            \item \emph{A Comparative text similarity analysis of the works of Bernard Mandeville}
            \item Study using the data and interfaces from Paper IV
        \end{itemize}
        \item Paper VI: \citet{mahadevan2024optimizing}
        \begin{itemize}
            \item \emph{Optimizing a Data Science System for Text Reuse Analysis}
            \item Studies design choices to optimize performance of the system
            \item Plans to scale interface from Paper IV based on insights
        \end{itemize}
    \end{enumerate}


\end{frame}
\begin{frame}
    \frametitle{Scalability and Robustness}
    \begin{itemize}
        \item Paper II: \citet{merchant2022JANE}
        \begin{itemize}
            \item Scaled up GNN alternative from \citet{merchant2022JANEorig} to run effectively on graphs with millions of nodes
        \end{itemize}
        \item Paper III: \citet{10.1145/3511808.3557687}
        \begin{itemize}
            \item Explored the robustness of Sketched Linear Networks from \citet{tai2018sketch} to adversarial attacks
        \end{itemize}
        \item Paper VIII?: 
        \begin{itemize}
            \item Original algorithm from \citet{wang2023fmmd}
            \item Re-implemented for edge-case requirement in Historical Project
            \item Nearly $200\times$ speed-up compared to original code
            \item Plans to develop theory and code for distributed algorithm 
        \end{itemize}
    \end{itemize}
\end{frame}

\begin{frame}
    \frametitle{Next Steps}
    \begin{enumerate}
        \item Complete a few more transferrable skill credits
        \item Start Writing Thesis
        \item Work on Paper VIII in tandem 
    \end{enumerate}
    

\end{frame}

\begin{frame}[allowframebreaks]
    \frametitle{References}
    \bibliographystyle{plainnat}
    \bibliography{references.bib}
  \end{frame}

\end{document}